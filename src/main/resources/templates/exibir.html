<!DOCTYPE html> 
<html xmlns="w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"> 
    <head> 
            <title>Biblioteca SENAC EAD</title> 
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">                 
    </head> 
    <body>
        
        <h1>Detalhes do Livro "<span th:text="${livro.nome}"/>"</h1>
        <p>ID: <span th:text="${livro.id}"/></p>
        <p>Autor: <span th:text="${livro.autor}"/></p>
        
        <hr>
        
        <form th:action="@{/gravar-comentario}" th:object="${comentario}" method="POST"> 
            <p>O que você achou deste livro?  <input type="text" th:field="${comentario.descricao}" /> </p> 
            <input type="hidden" th:field="${livro.id}" />
            <p><input type="submit" value="Enviar" /></p> 
        </form>          
        
        <hr>
        <h1>Lista de comentários</h1>
        <ul>
            <li th:each="reg: ${comentarios}">
                <p><span th:text="${reg.descricao}"/></p>
                <a th:href="@{'/excluirComentario?id=' + ${reg.id}}">Excluir</a>
            </li>
        </ul>
        <span th:if="${comentarios.size()<=0}">Nenhum comentário registrado</span>
        
        <br><a th:href="@{/}"><button type="button" class="btn btn-dark">Voltar</button></a>
    </body>
</html>
